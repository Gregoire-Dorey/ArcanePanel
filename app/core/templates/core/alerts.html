{% extends "base.html" %}
{% block content %}
<h1 class="h3 mb-3">Alerts</h1>

<div class="card bg-black border-secondary">
  <div class="card-body">
    <div class="table-responsive">
      <table class="table table-dark table-striped align-middle mb-0">
        <thead>
          <tr>
            <th>Statut</th>
            <th>Severity</th>
            <th>Asset</th>
            <th>Check</th>
            <th>Title</th>
            <th>Opened</th>
            <th>Closed</th>
          </tr>
        </thead>
        <tbody>
          {% for a in items %}
          <tr>
            <td>{% if a.is_open %}<span class="badge bg-warning text-dark">OPEN</span>{% else %}<span class="badge bg-secondary">CLOSED</span>{% endif %}</td>
            <td>{{ a.severity }}</td>
            <td>{{ a.monitor_check.asset.name }}</td>
            <td>{{ a.monitor_check.name }}</td>
            <td class="fw-semibold">{{ a.title }}</td>
            <td class="text-secondary">{{ a.opened_at }}</td>
            <td class="text-secondary">{{ a.closed_at|default:"-" }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
